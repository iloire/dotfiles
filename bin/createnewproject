#!/bin/bash
# Category: project
# Description: Create new project from Next.js/Prisma template

set -e

if [ -z "$1" ]; then
    echo "Usage: createnewproject <project-name>"
    echo "Creates a new project by cloning claude-next-prisma-template"
    exit 1
fi

PROJECT_NAME="$1"

if [ -d "$PROJECT_NAME" ]; then
    echo "Error: Directory '$PROJECT_NAME' already exists"
    exit 1
fi

echo "Cloning claude-next-prisma-template into '$PROJECT_NAME'..."
git clone git@github.com:iloire/claude-next-prisma-template.git "$PROJECT_NAME"

echo "Entering project directory..."
cd "$PROJECT_NAME"

echo "Removing origin remote..."
git remote remove origin

echo "Project '$PROJECT_NAME' created successfully!"
echo "Next steps:"
echo "  # Set up your new origin:"
echo "  # git remote add origin <your-new-repo-url>"

# Change to the new directory in the parent shell
exec bash -c "cd '$PWD' && exec bash"